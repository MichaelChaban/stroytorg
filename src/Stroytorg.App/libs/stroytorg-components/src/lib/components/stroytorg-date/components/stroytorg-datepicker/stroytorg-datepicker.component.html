<div class="stroytorg-datepicker-container">
  <div class="stroytorg-datepicker-container-header">
    <h5 class="mb-2">Select Date</h5>
    <h6 class="m-0">
      {{
        (viewFacade.selectedDate
          ? viewFacade.selectedDate
          : viewFacade.todayDate
        ).weekDayFullName
      }},
      {{
        (viewFacade.selectedDate
          ? viewFacade.selectedDate
          : viewFacade.todayDate
        ).monthName
      }}
      {{
        (viewFacade.selectedDate
          ? viewFacade.selectedDate
          : viewFacade.todayDate
        ).monthDayNumber
      }}
    </h6>
    <h6 class="m-0">
      {{
        (viewFacade.selectedDate
          ? viewFacade.selectedDate
          : viewFacade.todayDate
        ).year
      }}
    </h6>
  </div>
  <div class="stroytorg-datepicker-container-body">
    <div>
      <div class="stroytorg-date-picker-button-container">
        <stroytorg-button
          class="stroytorg-date-picker-button"
          [icon]="viewFacade.previosMonthIcon"
          (clickFn)="previousMonth()"
          [rounded]="true"
        ></stroytorg-button>
        <span class="text-center">{{ viewFacade.monthHeader }}</span>
        <stroytorg-button
          class="stroytorg-date-picker-button"
          [icon]="viewFacade.nextMonthIcon"
          (clickFn)="nextMonth()"
          [rounded]="true"
        ></stroytorg-button>
      </div>
    </div>
    <div
      class="mt-2 stroytorg-month-year-selector-container"
      [formGroup]="viewFacade.formGroup"
    >
      <stroytorg-select
        formControlName="month"
        [items]="viewFacade.monthOptions"
        [inputSize]="'small-width'"
        [clearable]="false"
      ></stroytorg-select>
      <stroytorg-select
        formControlName="year"
        [items]="viewFacade.yearOptions"
        [bindLabel]="'value'"
        [inputSize]="'x-small-width'"
        [clearable]="false"
      ></stroytorg-select>
    </div>
    <div class="mt-2 d-flex stroytorg-day-header">
      @for (weekDay of viewFacade.weekDaysName; track $index) {
      <div>{{ weekDay }}</div>
      }
    </div>
    <hr class="m-2"/>
    <div class="stroytorg-days-container">
      @for (date of viewFacade.monthDates; track $index) {
      <stroytorg-button
        class="stroytorg-date-picker-button {{ date.classNames }}"
        [class.today]="date.isToday"
        [class.selected-date]="date.isSelected"
        [title]="date.monthDayNumber.toString()"
        (clickFn)="selectDate(date)"
        [rounded]="true"
        [size]="viewFacade.buttonSize.AUTO"
      ></stroytorg-button>
      }
    </div>
  </div>
</div>
