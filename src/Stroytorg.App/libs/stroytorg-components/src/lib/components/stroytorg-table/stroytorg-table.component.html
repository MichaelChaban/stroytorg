<div class="stroytorg-table-container">
  <table class="stroytorg-table">
    <thead class="stroytorg-table__header">
      <tr>
        @if(multipleSelect){
        <th class="stroytorg-table__checkbox">
          <stroytorg-checkbox
            id="checkAll-checkbox"
            [checked]="areAllSelected"
            (valueChange)="selectAllRows($event)"
          ></stroytorg-checkbox>
        </th>
        }@for(column of tableColumns; track $index){
        <th>
          <span (click)="sort(column)" role="button">{{
            column?.headerGetter
          }}</span>
        </th>
        }
      </tr>
    </thead>
    <tbody class="stroytorg-table__body">
      @for(row of tableRows; track $index){
      <tr>
        @if(multipleSelect){
        <td class="stroytorg-table__checkbox">
          <stroytorg-checkbox
            [checked]="row.selected"
            (valueChange)="selectRow($event, row.row)"
          ></stroytorg-checkbox>
        </td>
        } @for(columnDefinition of tableColumns; track
        columnDefinition.configuration.id){
        <td>
          @if(isMobileBlock | async){
          <h6>
            {{ columnDefinition.headerGetter }}
          </h6>
          }
          <div [class]="columnDefinition.columnClass!">
            @if(columnDefinition.template){
            <span *ngTemplateOutlet="columnDefinition.template"></span>
            } @else{
            <span
              [queryParams]="
                columnDefinition.queryParams
                  ? columnDefinition.queryParams
                  : undefined
              "
              [routerLink]="
                columnDefinition.routerLink
                  ? columnDefinition.routerLink(row.row)
                  : undefined
              "
              [innerHTML]="columnDefinition.valueGetter(row.row)"
            ></span>
            }
          </div>
        </td>
        }
      </tr>
      }
    </tbody>
  </table>
  @if(loading){
  <stroytorg-loader></stroytorg-loader>
  }
</div>
<div class="d-flex align-items-center justify-content-between px-3">
  @if(showPaginator){
  <stroytorg-paginator
    [rows]="pageSize"
    [totalRecords]="total"
    [currentPage]="currentPage"
    (pageChanged)="pageChanged($event)"
  >
  </stroytorg-paginator>
  }
</div>
